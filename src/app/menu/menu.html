<div>
  <button class="accessibility-toggle" (click)="toggleWidget()">♿</button>
  
  @if (showWidget) {
    <div class="accessibility-widget">
      <h3>Accesibilidad</h3>
      
      <div class="widget-section">
        <h4>Texto</h4>
        <button (click)="toggleLargeText()" [class.active]="largeText">Aumentar texto</button>
        <button (click)="toggleLineHeight()" [class.active]="lineHeight">Altura de líneas</button>
      </div>
      
      <div class="widget-section">
        <h4>Visual</h4>
        <button (click)="toggleHighContrast()" [class.active]="highContrast">Alto contraste</button>
        <button (click)="toggleGrayscale()" [class.active]="grayscale">Escala de grises</button>
      </div>
      
      <div class="widget-section">
        <h4>Orientación</h4>
        <button (click)="toggleHighlightLinks()" [class.active]="highlightLinks">Resaltar enlaces</button>
        <button (click)="toggleStructure()" [class.active]="showStructure">Estructura de página</button>
      </div>
    </div>
  }

  <h2>Carta</h2>

  <div>
    <label for="category">Categoría:</label>
    <select id="category" [(ngModel)]="selectedCategory" name="category">
      <option value="todas">Todas</option>
      <option value="entrantes">Entrantes</option>
      <option value="platos principales">Platos Principales</option>
      <option value="postres">Postres</option>
      <option value="bebidas">Bebidas</option>
    </select>

    <label for="sortBy">Ordenar por:</label>
    <select id="sortBy" [(ngModel)]="sortBy" name="sortBy">
      <option value="">Sin ordenar</option>
      <option value="price-asc">Precio: Menor a Mayor</option>
      <option value="price-desc">Precio: Mayor a Menor</option>
    </select>
  </div>

  @if (dishes$ | async; as dishes) {
    <div class="dishes">
      @for (dish of dishes | dishFilter: selectedCategory : sortBy; track dish.id) {
        <div class="dish">
          <img [src]="dish.image" [alt]="dish.name" />
          <h3>{{ dish.name }}</h3>
          <p>{{ dish.description }}</p>
          <p><strong>{{ dish.price | currency: 'EUR' : 'symbol' }}</strong></p>
          <p>{{ dish.category }}</p>
        </div>
      }
    </div>
  }
</div>
